<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Intro2r: CommSci @ USC - Viz with ggplot2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="site_libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Intro2r: CommSci @ USC</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./import.html">
 <span class="menu-text">Import/Wrangle</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./viz.html" aria-current="page">
 <span class="menu-text">Visualization</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-lmjoinpivot" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">lm/join/pivot</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-lmjoinpivot">    
        <li>
    <a class="dropdown-item" href="./regression.html">
 <span class="dropdown-text">regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./longer_wider.html">
 <span class="dropdown-text">tall/wide</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./join.html">
 <span class="dropdown-text">join</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./tidy_tuesday_itra.html">
 <span class="menu-text">Example EDA</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#ggplot2-template-code" id="toc-ggplot2-template-code" class="nav-link active" data-scroll-target="#ggplot2-template-code">ggplot2 template code</a></li>
  <li><a href="#goal" id="toc-goal" class="nav-link" data-scroll-target="#goal">Goal</a></li>
  <li><a href="#import-data" id="toc-import-data" class="nav-link" data-scroll-target="#import-data">Import data</a></li>
  <li><a href="#steps-to-visualization" id="toc-steps-to-visualization" class="nav-link" data-scroll-target="#steps-to-visualization">Steps to Visualization</a>
  <ul class="collapse">
  <li><a href="#draw-the-base-layer" id="toc-draw-the-base-layer" class="nav-link" data-scroll-target="#draw-the-base-layer">Draw the base layer</a></li>
  <li><a href="#map-the-aesthetics-to-variables-in-the-dataframe" id="toc-map-the-aesthetics-to-variables-in-the-dataframe" class="nav-link" data-scroll-target="#map-the-aesthetics-to-variables-in-the-dataframe">Map the aesthetics to variables in the dataframe</a></li>
  <li><a href="#visualize-a-layer" id="toc-visualize-a-layer" class="nav-link" data-scroll-target="#visualize-a-layer">Visualize a layer</a></li>
  <li><a href="#global-v-local-arguments" id="toc-global-v-local-arguments" class="nav-link" data-scroll-target="#global-v-local-arguments">Global v local arguments</a></li>
  <li><a href="#mapping-v-setting" id="toc-mapping-v-setting" class="nav-link" data-scroll-target="#mapping-v-setting">Mapping v Setting</a></li>
  </ul></li>
  <li><a href="#common-geom_-functions" id="toc-common-geom_-functions" class="nav-link" data-scroll-target="#common-geom_-functions">Common geom_ functions</a>
  <ul class="collapse">
  <li><a href="#boxplot" id="toc-boxplot" class="nav-link" data-scroll-target="#boxplot">Boxplot</a></li>
  <li><a href="#line-graph" id="toc-line-graph" class="nav-link" data-scroll-target="#line-graph">Line graph</a></li>
  <li><a href="#overplotting" id="toc-overplotting" class="nav-link" data-scroll-target="#overplotting">Overplotting</a></li>
  <li><a href="#multiple-layers" id="toc-multiple-layers" class="nav-link" data-scroll-target="#multiple-layers">Multiple layers</a></li>
  <li><a href="#goal-1" id="toc-goal-1" class="nav-link" data-scroll-target="#goal-1">Goal</a></li>
  </ul></li>
  <li><a href="#arrange-order" id="toc-arrange-order" class="nav-link" data-scroll-target="#arrange-order">Arrange order</a>
  <ul class="collapse">
  <li><a href="#arranging-order-with-forcats" id="toc-arranging-order-with-forcats" class="nav-link" data-scroll-target="#arranging-order-with-forcats">Arranging order with forcats</a></li>
  </ul></li>
  <li><a href="#facet-wrap" id="toc-facet-wrap" class="nav-link" data-scroll-target="#facet-wrap">Facet wrap</a></li>
  <li><a href="#scales" id="toc-scales" class="nav-link" data-scroll-target="#scales">Scales</a></li>
  <li><a href="#labels" id="toc-labels" class="nav-link" data-scroll-target="#labels">Labels</a></li>
  <li><a href="#themes" id="toc-themes" class="nav-link" data-scroll-target="#themes">Themes</a>
  <ul class="collapse">
  <li><a href="#example-themes" id="toc-example-themes" class="nav-link" data-scroll-target="#example-themes">Example themes</a></li>
  <li><a href="#theme_dark" id="toc-theme_dark" class="nav-link" data-scroll-target="#theme_dark">theme_dark()</a></li>
  <li><a href="#theme_classic" id="toc-theme_classic" class="nav-link" data-scroll-target="#theme_classic">theme_classic</a></li>
  <li><a href="#hbrthemes" id="toc-hbrthemes" class="nav-link" data-scroll-target="#hbrthemes">hbrthemes</a></li>
  </ul></li>
  <li><a href="#combine-plots" id="toc-combine-plots" class="nav-link" data-scroll-target="#combine-plots">Combine plots</a></li>
  <li><a href="#interactive-plots" id="toc-interactive-plots" class="nav-link" data-scroll-target="#interactive-plots">Interactive plots</a></li>
  <li><a href="#annimate-plots" id="toc-annimate-plots" class="nav-link" data-scroll-target="#annimate-plots">Annimate plots</a></li>
  <li><a href="#attribution" id="toc-attribution" class="nav-link" data-scroll-target="#attribution">Attribution</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Viz with ggplot2</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>I only need <code>ggplot2</code> but I like to load <code>tidyverse</code> because it includes 8 complimentary packages, including <code>ggplot2</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library(ggplot2)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Get more information from:</p>
<ul>
<li>https://tidyverse.org</li>
<li>https://ggplot2.tidyverse.org</li>
</ul>
<section id="ggplot2-template-code" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2-template-code">ggplot2 template code</h2>
<p>The ggplot2 template is used to identify the dataframe, identify the x and y axis, and define visualized layers</p>
<blockquote class="blockquote">
<p><code>ggplot(data = ---, mapping = aes(x = ---, y = ---)) + geom_----()</code></p>
</blockquote>
<p>Note: <code>----</code> is meant to imply text (function names, dataframe names, variable names) you supply.</p>
<p>It is helpful to see the argument mapping, above. In practice, rather than typing the formal arguments, code is typically shorthanded to this:</p>
<blockquote class="blockquote">
<p><code>dataframe %&gt;%  ggplot(aes(xvar, yvar)) + geom_----()</code></p>
</blockquote>
</section>
<section id="goal" class="level2">
<h2 class="anchored" data-anchor-id="goal">Goal</h2>
<p>Visualize a scatter plot showing the relationship of mass to height for <em>Star Wars</em> characters in the <code>dplyr::starwars</code> dataframe, excluding the heaviest character. Indicate a linear regression line.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="import-data" class="level2">
<h2 class="anchored" data-anchor-id="import-data">Import data</h2>
<p>dplyr has an onboard dataset, <code>starwars</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(starwars)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>starwars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   name        height  mass hair_…¹ skin_…² eye_c…³ birth…⁴ sex   gender homew…⁵
   &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  
 1 Luke Skywa…    172    77 blond   fair    blue       19   male  mascu… Tatooi…
 2 C-3PO          167    75 &lt;NA&gt;    gold    yellow    112   none  mascu… Tatooi…
 3 R2-D2           96    32 &lt;NA&gt;    white,… red        33   none  mascu… Naboo  
 4 Darth Vader    202   136 none    white   yellow     41.9 male  mascu… Tatooi…
 5 Leia Organa    150    49 brown   light   brown      19   fema… femin… Aldera…
 6 Owen Lars      178   120 brown,… light   blue       52   male  mascu… Tatooi…
 7 Beru White…    165    75 brown   light   blue       47   fema… femin… Tatooi…
 8 R5-D4           97    32 &lt;NA&gt;    white,… red        NA   none  mascu… Tatooi…
 9 Biggs Dark…    183    84 black   light   brown      24   male  mascu… Tatooi…
10 Obi-Wan Ke…    182    77 auburn… fair    blue-g…    57   male  mascu… Stewjon
# … with 77 more rows, 4 more variables: species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;, and abbreviated variable names
#   ¹​hair_color, ²​skin_color, ³​eye_color, ⁴​birth_year, ⁵​homeworld</code></pre>
</div>
</div>
</section>
<section id="steps-to-visualization" class="level2">
<h2 class="anchored" data-anchor-id="steps-to-visualization">Steps to Visualization</h2>
<section id="draw-the-base-layer" class="level3">
<h3 class="anchored" data-anchor-id="draw-the-base-layer">Draw the base layer</h3>
<p>This feels like, and looks like, you drew an empty box.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><em>But wait, there’s more….</em></p>
</section>
<section id="map-the-aesthetics-to-variables-in-the-dataframe" class="level3">
<h3 class="anchored" data-anchor-id="map-the-aesthetics-to-variables-in-the-dataframe">Map the aesthetics to variables in the dataframe</h3>
<p>Still doesn’t look like much. You will initialize the plot scales and labels based on the values of the variables in the dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mass <span class="sc">&lt;</span> <span class="dv">500</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(height, mass))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>In the above, I subset the data, removing any <em>Star Wars</em> characters weighing more than 500 Kg – <code>dplyr::filter()</code>. Then I initialized the base layer with the <code>height</code> as the x axis and <code>mass</code> as the y axis. ggplot drew the scales for me.</p>
</section>
<section id="visualize-a-layer" class="level3">
<h3 class="anchored" data-anchor-id="visualize-a-layer">Visualize a layer</h3>
<p>Since I have two numeric variables, <code>height</code> and <code>mass</code>, I’ll start with a scatter plot. Scatter plots are generated by the <code>geom_point()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mass <span class="sc">&lt;</span> <span class="dv">500</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(height, mass)) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="global-v-local-arguments" class="level3">
<h3 class="anchored" data-anchor-id="global-v-local-arguments">Global v local arguments</h3>
<p>So far, the <strong>aesthetics</strong> are <strong>mapped</strong> in the <code>aes()</code> function within the initial <code>ggplot</code> function. As such, these values are mapped globally and all layers are affected by this mapping. See the <code>aes()</code> function, above. Arguments can also be mapped locally, within a geom function layer, as as <code>geom_point(aes(height, mass))</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mass <span class="sc">&lt;</span> <span class="dv">500</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(height, mass)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="mapping-v-setting" class="level3">
<h3 class="anchored" data-anchor-id="mapping-v-setting">Mapping v Setting</h3>
<p>Dataframe values can be <em>mapped</em> inside the aesthetic, <code>aes()</code>, to visualize variable dataframe values. Alternatively, data values can be <em>set</em> as an argument outside the <code>aes()</code> function but inside the geom_ function. This is done to affect a visual quality that is manually assigned, as opposed to being derived from variable data values.</p>
<p>Aesthetic arguments include:</p>
<ul>
<li>color</li>
<li>fill</li>
<li>size</li>
<li>linetype</li>
<li>opacity</li>
<li>shape</li>
<li><em>and more</em> see documentation for each geom_</li>
</ul>
<blockquote class="blockquote">
<p>Mapping: <code>color</code> is <strong>mapped</strong> <em>inside</em> <code>aes()</code> function. In this case, <code>color = starwars$gender</code></p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mass <span class="sc">&lt;</span> <span class="dv">500</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geom_point(mapping = aes(x = height, y = mass, color = gender))</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(height, mass, <span class="at">color =</span> gender))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Notice the legend was drawn automatically, above, by mapping an aesthetic</p>
<blockquote class="blockquote">
<p>Setting: The <code>color</code> argument can be <strong>set</strong> outside the <code>aes()</code> function, but within the <code>geom_</code> function. In this case with <code>color = "goldenrod"</code></p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mass <span class="sc">&lt;</span> <span class="dv">500</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(height, mass), <span class="at">color =</span> <span class="st">"goldenrod"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="common-geom_-functions" class="level2">
<h2 class="anchored" data-anchor-id="common-geom_-functions">Common geom_ functions</h2>
<table class="table">
<thead>
<tr class="header">
<th>Type</th>
<th>Geom</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Bar graph:</td>
<td><code>geom_bar()</code> <code>geom_col()</code></td>
</tr>
<tr class="even">
<td>Histogram:</td>
<td><code>geom_histogram()</code></td>
</tr>
<tr class="odd">
<td>Scatter plot:</td>
<td><code>geom_point()</code> <code>geom_jitter()</code></td>
</tr>
<tr class="even">
<td>Line graph:</td>
<td><code>geom_line()</code></td>
</tr>
<tr class="odd">
<td>Box plot:</td>
<td><code>geom_boxplot()</code></td>
</tr>
<tr class="even">
<td>Density:</td>
<td><code>geom_density()</code> <code>geom_violin()</code></td>
</tr>
<tr class="odd">
<td>Heat map:</td>
<td><code>geom_heatmap()</code></td>
</tr>
<tr class="even">
<td>Mapping:</td>
<td><code>geom_sf()</code></td>
</tr>
<tr class="odd">
<td>Regression line:</td>
<td><code>geom_smooth()</code></td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>A list of available geom_ functions, or layers, can be found in the help or on the website: https://ggplot2.tidyverse.org/reference/index.html#section-geoms</p>
</blockquote>
<section id="boxplot" class="level3">
<h3 class="anchored" data-anchor-id="boxplot">Boxplot</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">species =</span> <span class="fu">fct_lump_min</span>(species, <span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(species, height)) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="line-graph" class="level3">
<h3 class="anchored" data-anchor-id="line-graph">Line graph</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>babynames<span class="sc">::</span>babynames <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">"Watts"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, n)) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geom_point() +</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="overplotting" class="level3">
<h3 class="anchored" data-anchor-id="overplotting">Overplotting</h3>
<p>There are two simple approaches to visualizing overplotted data: <code>geom_jitter()</code> and decrease the opacity be setting the <code>alpha =</code> argument.</p>
<ul>
<li>Adjust <strong>opacity</strong>. The <code>alpha</code> argument within the geom function affects the opacity of the points. In this way, overplotted data will appear as darker points on the plot</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mass <span class="sc">&lt;</span> <span class="dv">500</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(height, mass), <span class="at">alpha =</span> .<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li><strong>Jitter</strong> the data with <code>geom_jitter()</code></li>
</ul>
<p><code>geom_jitter</code> will not change the values of the data but it will offset data points, making it easier to perceive the overplotting.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mass <span class="sc">&lt;</span> <span class="dv">500</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(height, mass))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="multiple-layers" class="level3">
<h3 class="anchored" data-anchor-id="multiple-layers">Multiple layers</h3>
<p>Each layer, visualized by a geom_ function, can support local arguments and draw from the global settings. Below we use the <code>geom_line()</code> function, followed by the <code>geom_point()</code> function.</p>
<pre><code>babynames %&gt;%
  ggplot(aes(year, prop)) +
  geom_line(aes(color = sex)) +
  geom_point(alpha = 0.4, shape = "cross")</code></pre>
<p><img src="images/line_graph_je_names.png" class="img-fluid"></p>
<p>The full code for the above graph can be seen below.</p>
<pre><code>library(babynames)
library(ggplot)

babynames %&gt;% 
  filter(name == "John" &amp; sex == "M" | 
           name == "Elizabeth" &amp; sex == "F") %&gt;% 
  ggplot(aes(year, prop)) +
  geom_line(aes(color = sex)) +
  geom_point(alpha = 0.4, shape = "cross") +
  geom_text(data = . %&gt;% filter(year == 1965), aes(label = name),
            nudge_y = .009) +
  labs(title = "Name Popularity") + 
  theme(legend.position = "none")</code></pre>
</section>
<section id="goal-1" class="level3">
<h3 class="anchored" data-anchor-id="goal-1">Goal</h3>
<p>Recall the goal mentioned in the beginning. We want a scatter plot and a regression line. The regression line is drawn with the <code>geom_smooth()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mass <span class="sc">&lt;</span> <span class="dv">500</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(height, mass)) <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="arrange-order" class="level2">
<h2 class="anchored" data-anchor-id="arrange-order">Arrange order</h2>
<p>Categorical values are most easily ordered with the <code>forcats</code> library. Part of the Tidyverse, the <a href="https://forcats.tidyverse.org/">forcats</a> package is used to transform string data as a factor data type. Data types in R can be simple distinctions useful in efficient computation, such as calculating numeric outcomes versus manipulating character data (i.e.&nbsp;string or text data). R data types are rich and sometimes complex. Staying simple, text data consisting of categories, may be efficiently handled as a factor data type. For example, eye colors can be categorized. Brown, blue, and green are nominal categorical values for the factor variable <code>eye_color</code>. Among other things, treating <code>eye_color</code> as a factor data type enables visually ordering categorical values by frequency.</p>
<section id="before-arranging-order" class="level4">
<h4 class="anchored" data-anchor-id="before-arranging-order">Before arranging order</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>msleep <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(vore)) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="arranging-order-with-forcats" class="level3">
<h3 class="anchored" data-anchor-id="arranging-order-with-forcats">Arranging order with forcats</h3>
<p>Change the order of the bars by the frequency of observations using <code>forcats::fct_infreq()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>msleep <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">fct_infreq</span>(vore))) <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Notice below, we use the <code>fill =</code> argument to set the color of an individual bar. In the scatter plot examples, above, we used the <code>color =</code> argument. In many <code>geoms_</code> you can use both <code>color</code> and <code>fill</code> arguments. How do these arguments differ? Where can you look to find out more about <code>fill</code> and <code>color</code>?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">fct_rev</span>(<span class="fu">fct_infreq</span>(eye_color)))) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"grey70"</span>) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data =</span> starwars <span class="sc">%&gt;%</span> <span class="fu">filter</span>(eye_color <span class="sc">==</span> <span class="st">"orange"</span>), <span class="at">fill =</span> <span class="st">"darkorange"</span>) <span class="sc">+</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="facet-wrap" class="level2">
<h2 class="anchored" data-anchor-id="facet-wrap">Facet wrap</h2>
<p>Faceting is great way to make subplots of the same dataframe. See both <code>facet_wrap()</code> and <code>facet_grid()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="scales" class="level2">
<h2 class="anchored" data-anchor-id="scales">Scales</h2>
<p>Scales are used to affect the visual qualities of the data. I’ll introduce scales to visualize discrete categories by associating each discrete value with a specific color. <a href="https://ggplot2.tidyverse.org/reference/index.html#section-scales">Read more about scales</a>.</p>
<p>Viridis scales apply color palettes to continuous, discrete, or binned data. For discrete data we can use the <code>scale_fill_viridis_d()</code> function.</p>
<blockquote class="blockquote">
<p>By using one the <code>scale_fill_</code> functions, we are able to affect the variable values associated in the <code>fill = conservation</code> argument.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>msleep <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">fct_infreq</span>(vore), sleep_total)) <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> conservation)) <span class="sc">+</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">na.value =</span> <span class="st">"grey80"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The color brewer palette is similar but has a wider array of palettes to choose from. Below we use <code>scale_fill_brewer()</code> and a default <em>qualitative</em> color palette by setting the <code>type =</code> argument to <em>qual</em> (for qualitative). Alternatively, or additionally, we could assign a <code>palette =</code> argument to choose a particular ColorBrewer palette, such as choosing the “Dark2” palette with the argument <code>palette = "Dark2"</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>msleep <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">fct_infreq</span>(vore), sleep_total)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> conservation)) <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">na.value =</span> <span class="st">"grey80"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Sometimes a manual scale is preferred. Below we use <code>scale_fill_manual()</code> to associate a defined set of color names with my <code>fill = conservation</code> argument</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>mycolors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"firebrick"</span>, <span class="st">"forestgreen"</span>, <span class="st">"navy"</span>, <span class="st">"darkorange"</span>, </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>               <span class="st">"goldenrod"</span>, <span class="st">"sienna"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>msleep <span class="sc">%&gt;%</span> </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">fct_infreq</span>(vore), sleep_total)) <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> conservation)) <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> mycolors, <span class="at">na.value =</span> <span class="st">"grey80"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>To find available colors: Google search “R color names”, or specific to ColorBrewer….</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#display.brewer.pal(7,"Dark2")</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>RColorBrewer<span class="sc">::</span><span class="fu">display.brewer.all</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Scales are used to manipulate the visual properties of the data. Beyond using scales to modify colors, another example is logarithmic scales to account for data skew. In this way you can clarify the data pattern. For example, using the <code>ChickWeight</code> dataset, we visualize the weights of the chicks over time. Hint: You can visualize the data skew with a histogram, <code>geom_histogram()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"ChickWeight"</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>ChickWeight <span class="sc">%&gt;%</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Time, weight, <span class="at">color =</span> Diet)) <span class="sc">+</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> Chick))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Using <code>scale_y_log10</code> we can alter the scale to highlight a more understandable data pattern</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>chicken_plot <span class="ot">&lt;-</span> ChickWeight <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Time, weight, <span class="at">color =</span> Diet)) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> Chick)) <span class="sc">+</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>()</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>chicken_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="labels" class="level2">
<h2 class="anchored" data-anchor-id="labels">Labels</h2>
<p>The <code>labs()</code> function is specialized scales function, used to apply labels. For example, use the <code>labs()</code> function to add a title, subtitle, legend title, modify axis labels, and set a caption. See more on <a href="https://ggplot2.tidyverse.org/reference/index.html#section-scales">scales</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>plot_sleep <span class="ot">&lt;-</span> msleep <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">vore =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    vore <span class="sc">==</span> <span class="st">"herbi"</span> <span class="sc">~</span> <span class="st">"Herbivore"</span>,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    vore <span class="sc">==</span> <span class="st">"omni"</span>  <span class="sc">~</span> <span class="st">"Omnivore"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    vore <span class="sc">==</span> <span class="st">"carni"</span> <span class="sc">~</span> <span class="st">"Carnivore"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    vore <span class="sc">==</span> <span class="st">"insecti"</span> <span class="sc">~</span> <span class="st">"Insectivore"</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  ))  <span class="sc">%&gt;%</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">fct_infreq</span>(vore), sleep_total)) <span class="sc">+</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">fill =</span> conservation)) <span class="sc">+</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">na.value =</span> <span class="st">"grey80"</span>) <span class="sc">+</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Animal sleep times"</span>, </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"A practice dataset"</span>,</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Conservation</span><span class="sc">\n</span><span class="st">Type"</span>,</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Sleep time in hours"</span>,</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Source: ggplot::msleep"</span>)</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>plot_sleep</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="themes" class="level2">
<h2 class="anchored" data-anchor-id="themes">Themes</h2>
<p>Themes are used to manipulate the stylistic characteristics of the non-data components of your plot, such as font faces, text sizes, and grid lines. <strong>ProTip:</strong> quickly manipulate a single plot with preset themes such as <code>theme_dark</code>, or use a specialized theme extension such as <code>theme_ipsum</code> from the <code>hrbrthemes</code> package.</p>
<ul>
<li><p>https://ggplot2.tidyverse.org/reference/ggtheme.html</p>
<ul>
<li>for example… <code>theme_dark()</code>, <code>theme_light()</code>, <code>theme_classic()</code></li>
</ul></li>
<li><p>https://cinc.rud.is/web/packages/hrbrthemes/</p></li>
<li><p>https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/</p></li>
</ul>
<p>See more on <a href="https://ggplot2.tidyverse.org/reference/index.html#section-themes">themes</a></p>
<section id="example-themes" class="level3">
<h3 class="anchored" data-anchor-id="example-themes">Example themes</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://r4ds.had.co.nz/images/visualization-themes.png" style="height:6in" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Image source: from R for Data Science by Grolemund &amp; Wickham</figcaption><p></p>
</figure>
</div>
</section>
<section id="theme_dark" class="level3">
<h3 class="anchored" data-anchor-id="theme_dark">theme_dark()</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>plot_sleep <span class="sc">+</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_dark</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="theme_classic" class="level3">
<h3 class="anchored" data-anchor-id="theme_classic">theme_classic</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>plot_sleep <span class="sc">+</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="hbrthemes" class="level3">
<h3 class="anchored" data-anchor-id="hbrthemes">hbrthemes</h3>
<p>https://cinc.rud.is/web/packages/hrbrthemes/</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>plot_sleep <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  hrbrthemes<span class="sc">::</span><span class="fu">theme_ipsum</span>(<span class="at">grid =</span> <span class="st">"Y"</span>) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  hrbrthemes<span class="sc">::</span><span class="fu">scale_fill_ipsum</span>(<span class="at">na.value =</span> <span class="st">"grey80"</span>,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>                               <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Critical"</span>, <span class="st">"Domesticated"</span>, </span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">"Endangered"</span>, <span class="st">"Least Concern"</span>, </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">"Threatened"</span>, <span class="st">"Vulnerable"</span>)) <span class="sc">+</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title.position =</span> <span class="st">"plot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="combine-plots" class="level2">
<h2 class="anchored" data-anchor-id="combine-plots">Combine plots</h2>
<p>The <code>patchwork</code> package makes it “ridiculously simple to combine separate ggplot objects into the same graphic.” The <code>/</code>will separate plots vertically. The <code>|</code> will separate plots horizontally. See more about <a href="https://patchwork.data-imaginist.com/">patchwork</a></p>
<blockquote class="blockquote">
<p>Try also: (plot_sleep | chicken_plot)</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># devtools::install_github("thomasp85/patchwork")</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># https://patchwork.data-imaginist.com/</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>(plot_sleep <span class="sc">/</span> chicken_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="viz_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="interactive-plots" class="level2">
<h2 class="anchored" data-anchor-id="interactive-plots">Interactive plots</h2>
<p>Use the <code>ggplotly</code> function will transform your static ggplot object into an interactive plot. This interactive plot can be used in dashboards and web presentations.</p>
<p>See more at the <a href="https://plotly.com/ggplot2/">Plotly ggplot2 Library</a> page, and the <a href="https://plotly-r.com/"><em>Interactive web-based data visualization with R, plotly, and shiny</em></a> book.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(plot_sleep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-6a1ba7f35a00a45cf13c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-6a1ba7f35a00a45cf13c">{"x":{"data":[{"orientation":"v","width":[0.9,0.9],"base":[302.4,194.5],"x":[1,3],"y":[1.90000000000003,2.69999999999999],"text":["fct_infreq(vore): Herbivore<br />sleep_total:  1.9<br />conservation: cd","fct_infreq(vore): Carnivore<br />sleep_total:  2.7<br />conservation: cd"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(127,201,127,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"cd","legendgroup":"cd","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"base":[258.3,171.9,262.3,271.7,284.2,287.1,182,290.2,298.6,209.4],"x":[1,3,1,1,1,1,3,1,1,2],"y":[4,10.1,9.39999999999998,12.5,2.90000000000003,3.09999999999997,12.5,8.40000000000003,3.79999999999995,9.09999999999999],"text":["fct_infreq(vore): Herbivore<br />sleep_total:  4.0<br />conservation: domesticated","fct_infreq(vore): Carnivore<br />sleep_total: 10.1<br />conservation: domesticated","fct_infreq(vore): Herbivore<br />sleep_total:  9.4<br />conservation: domesticated","fct_infreq(vore): Herbivore<br />sleep_total: 12.5<br />conservation: domesticated","fct_infreq(vore): Herbivore<br />sleep_total:  2.9<br />conservation: domesticated","fct_infreq(vore): Herbivore<br />sleep_total:  3.1<br />conservation: domesticated","fct_infreq(vore): Carnivore<br />sleep_total: 12.5<br />conservation: domesticated","fct_infreq(vore): Herbivore<br />sleep_total:  8.4<br />conservation: domesticated","fct_infreq(vore): Herbivore<br />sleep_total:  3.8<br />conservation: domesticated","fct_infreq(vore): Omnivore<br />sleep_total:  9.1<br />conservation: domesticated"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,174,212,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"domesticated","legendgroup":"domesticated","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[240.1,244,156.1,56.6],"x":[1,1,3,4],"y":[3.90000000000001,14.3,15.8,18.1],"text":["fct_infreq(vore): Herbivore<br />sleep_total:  3.9<br />conservation: en","fct_infreq(vore): Herbivore<br />sleep_total: 14.3<br />conservation: en","fct_infreq(vore): Carnivore<br />sleep_total: 15.8<br />conservation: en","fct_infreq(vore): Insectivore<br />sleep_total: 18.1<br />conservation: en"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,192,134,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"en","legendgroup":"en","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"base":[86.5,115.1,139,142,130,140,150.3,98.6,147.3,159.4,28.5,177.4,187.5,116,152.6,122.2,158.9,173.1,141.6,55.6,198.4,65.9,180.8,48.2,193.8,210.4,224.2],"x":[3,2,1,1,2,2,2,3,1,2,4,2,2,3,1,3,1,1,3,5,2,5,1,4,1,1,1],"y":[12.1,14.9,3,5.30000000000001,10,10.3,9.09999999999999,17.4,5.29999999999998,18,19.7,10.1,10.9,6.2,6.30000000000001,19.4,14.2,7.70000000000002,14.5,10.3,11,5.39999999999999,13,8.4,16.6,13.8,15.9],"text":["fct_infreq(vore): Carnivore<br />sleep_total: 12.1<br />conservation: lc","fct_infreq(vore): Omnivore<br />sleep_total: 14.9<br />conservation: lc","fct_infreq(vore): Herbivore<br />sleep_total:  3.0<br />conservation: lc","fct_infreq(vore): Herbivore<br />sleep_total:  5.3<br />conservation: lc","fct_infreq(vore): Omnivore<br />sleep_total: 10.0<br />conservation: lc","fct_infreq(vore): Omnivore<br />sleep_total: 10.3<br />conservation: lc","fct_infreq(vore): Omnivore<br />sleep_total:  9.1<br />conservation: lc","fct_infreq(vore): Carnivore<br />sleep_total: 17.4<br />conservation: lc","fct_infreq(vore): Herbivore<br />sleep_total:  5.3<br />conservation: lc","fct_infreq(vore): Omnivore<br />sleep_total: 18.0<br />conservation: lc","fct_infreq(vore): Insectivore<br />sleep_total: 19.7<br />conservation: lc","fct_infreq(vore): Omnivore<br />sleep_total: 10.1<br />conservation: lc","fct_infreq(vore): Omnivore<br />sleep_total: 10.9<br />conservation: lc","fct_infreq(vore): Carnivore<br />sleep_total:  6.2<br />conservation: lc","fct_infreq(vore): Herbivore<br />sleep_total:  6.3<br />conservation: lc","fct_infreq(vore): Carnivore<br />sleep_total: 19.4<br />conservation: lc","fct_infreq(vore): Herbivore<br />sleep_total: 14.2<br />conservation: lc","fct_infreq(vore): Herbivore<br />sleep_total:  7.7<br />conservation: lc","fct_infreq(vore): Carnivore<br />sleep_total: 14.5<br />conservation: lc","fct_infreq(vore): NA<br />sleep_total: 10.3<br />conservation: lc","fct_infreq(vore): Omnivore<br />sleep_total: 11.0<br />conservation: lc","fct_infreq(vore): NA<br />sleep_total:  5.4<br />conservation: lc","fct_infreq(vore): Herbivore<br />sleep_total: 13.0<br />conservation: lc","fct_infreq(vore): Insectivore<br />sleep_total:  8.4<br />conservation: lc","fct_infreq(vore): Herbivore<br />sleep_total: 16.6<br />conservation: lc","fct_infreq(vore): Herbivore<br />sleep_total: 13.8<br />conservation: lc","fct_infreq(vore): Herbivore<br />sleep_total: 15.9<br />conservation: lc"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,255,153,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"lc","legendgroup":"lc","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9],"base":[97.5,111.9,124.4,76.1],"x":[1,1,1,3],"y":[14.4,12.5,14.6,10.4],"text":["fct_infreq(vore): Herbivore<br />sleep_total: 14.4<br />conservation: nt","fct_infreq(vore): Herbivore<br />sleep_total: 12.5<br />conservation: nt","fct_infreq(vore): Herbivore<br />sleep_total: 14.6<br />conservation: nt","fct_infreq(vore): Carnivore<br />sleep_total: 10.4<br />conservation: nt"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(56,108,176,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"nt","legendgroup":"nt","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],"base":[44.8,80.3,89.8,53.5,67,70.5,93.1],"x":[3,1,1,3,3,3,1],"y":[8.7,9.5,3.30000000000001,13.5,3.5,5.59999999999999,4.39999999999999],"text":["fct_infreq(vore): Carnivore<br />sleep_total:  8.7<br />conservation: vu","fct_infreq(vore): Herbivore<br />sleep_total:  9.5<br />conservation: vu","fct_infreq(vore): Herbivore<br />sleep_total:  3.3<br />conservation: vu","fct_infreq(vore): Carnivore<br />sleep_total: 13.5<br />conservation: vu","fct_infreq(vore): Carnivore<br />sleep_total:  3.5<br />conservation: vu","fct_infreq(vore): Carnivore<br />sleep_total:  5.6<br />conservation: vu","fct_infreq(vore): Herbivore<br />sleep_total:  4.4<br />conservation: vu"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(240,2,127,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"vu","legendgroup":"vu","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"base":[0,0,0,17,14.4,25.3,35.1,43.1,29.3,0,0,53.2,62.9,7,18.5,42.1,72.3,81,53.2,32.2,42.8,19.9,64.5,90.6,106.2,11,16.2,22.5,35],"x":[2,1,5,2,1,2,2,2,1,4,3,2,2,5,5,1,2,2,1,5,5,4,1,2,2,3,3,3,3],"y":[17,14.4,7,8.3,14.9,9.8,8,10.1,12.8,19.9,11,9.7,9.4,11.5,13.7,11.1,8.7,9.59999999999999,11.3,10.6,12.8,8.6,15.8,15.6,8.89999999999999,5.2,6.3,12.5,9.8],"text":["fct_infreq(vore): Omnivore<br />sleep_total: 17.0<br />conservation: NA","fct_infreq(vore): Herbivore<br />sleep_total: 14.4<br />conservation: NA","fct_infreq(vore): NA<br />sleep_total:  7.0<br />conservation: NA","fct_infreq(vore): Omnivore<br />sleep_total:  8.3<br />conservation: NA","fct_infreq(vore): Herbivore<br />sleep_total: 14.9<br />conservation: NA","fct_infreq(vore): Omnivore<br />sleep_total:  9.8<br />conservation: NA","fct_infreq(vore): Omnivore<br />sleep_total:  8.0<br />conservation: NA","fct_infreq(vore): Omnivore<br />sleep_total: 10.1<br />conservation: NA","fct_infreq(vore): Herbivore<br />sleep_total: 12.8<br />conservation: NA","fct_infreq(vore): Insectivore<br />sleep_total: 19.9<br />conservation: NA","fct_infreq(vore): Carnivore<br />sleep_total: 11.0<br />conservation: NA","fct_infreq(vore): Omnivore<br />sleep_total:  9.7<br />conservation: NA","fct_infreq(vore): Omnivore<br />sleep_total:  9.4<br />conservation: NA","fct_infreq(vore): NA<br />sleep_total: 11.5<br />conservation: NA","fct_infreq(vore): NA<br />sleep_total: 13.7<br />conservation: NA","fct_infreq(vore): Herbivore<br />sleep_total: 11.1<br />conservation: NA","fct_infreq(vore): Omnivore<br />sleep_total:  8.7<br />conservation: NA","fct_infreq(vore): Omnivore<br />sleep_total:  9.6<br />conservation: NA","fct_infreq(vore): Herbivore<br />sleep_total: 11.3<br />conservation: NA","fct_infreq(vore): NA<br />sleep_total: 10.6<br />conservation: NA","fct_infreq(vore): NA<br />sleep_total: 12.8<br />conservation: NA","fct_infreq(vore): Insectivore<br />sleep_total:  8.6<br />conservation: NA","fct_infreq(vore): Herbivore<br />sleep_total: 15.8<br />conservation: NA","fct_infreq(vore): Omnivore<br />sleep_total: 15.6<br />conservation: NA","fct_infreq(vore): Omnivore<br />sleep_total:  8.9<br />conservation: NA","fct_infreq(vore): Carnivore<br />sleep_total:  5.2<br />conservation: NA","fct_infreq(vore): Carnivore<br />sleep_total:  6.3<br />conservation: NA","fct_infreq(vore): Carnivore<br />sleep_total: 12.5<br />conservation: NA","fct_infreq(vore): Carnivore<br />sleep_total:  9.8<br />conservation: NA"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(204,204,204,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"NA","legendgroup":"NA","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":25.5707762557078,"l":43.1050228310502},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Animal sleep times","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,5.6],"tickmode":"array","ticktext":["Herbivore","Omnivore","Carnivore","Insectivore"],"tickvals":[1,2,3,4],"categoryorder":"array","categoryarray":["Herbivore","Omnivore","Carnivore","Insectivore"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-15.215,319.515],"tickmode":"array","ticktext":["0","100","200","300"],"tickvals":[0,100,200,300],"categoryorder":"array","categoryarray":["0","100","200","300"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Sleep time in hours","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Conservation<br />Type","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"d3c31922b7a":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"d3c31922b7a","visdat":{"d3c31922b7a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="annimate-plots" class="level2">
<h2 class="anchored" data-anchor-id="annimate-plots">Annimate plots</h2>
<p>Use the <code>gganimate</code> package to bring your plot to life through the wonders of animation. Learn more at the resource page for <a href="https://gganimate.com/">gganimate</a></p>
<p>For Example:</p>
<div class="cell">
<div class="cell-output-display">
<img src="images/gganmimate_example.gif" alt="gganmimate example">
</div>
<div class="cell-output-display">
<div class="captxt">Image source:  https://gganimate.com/index.html#yet-another-example</div>
</div>
</div>
</section>
<section id="attribution" class="level2">
<h2 class="anchored" data-anchor-id="attribution">Attribution</h2>
<p>Adapted in whole or in part based on the <a href="https://github.com/rstudio/master-the-tidyverse/blob/master/pdfs/01-Visualize-Data.pdf">Visualize Data with ggplot2</a> slides by Garrett Grolemund at RStudio. CC BY Garrett Grolemund, RStudio</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>